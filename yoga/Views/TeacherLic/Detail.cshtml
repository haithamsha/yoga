@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer localizer
@model TechearMemberShipTest
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-lg-flex">
<a asp-action="Index" asp-controller="TeacherLic">@localizer["Dashboard"]</a>
<form method="post">
    <div asp-validation-summary="All" class="text-danger"></div>
    <input asp-for="MemId" hidden/>
    <input asp-for="TestId" hidden/>
    <div class="border p-3 mt-4">
        <h2>@localizer["PageTitle"]</h2>
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" href="#home">@localizer["Expreience"] </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#profile">@localizer["BasicInformation"]</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#fees">@localizer["Fees"]</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#status">@localizer["Status"]</a>
            </li>

        </ul>
        <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active show" id="home">
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.Name">@localizer["Name"]</label>
                    <div>
                        <label>@Model.TechearMemberShip.AppUser.FirstName @Model.TechearMemberShip.AppUser.MiddleName @Model.TechearMemberShip.AppUser.LastName</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.EducationLevel">@localizer["EducationLevel"]</label>
                    
                   <div>
                        @Model.TechearMemberShip.EducationLevel_String
                   </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.SocialMediaAccounts">@localizer["SocialMediaAccounts"]</label>
                    <div>
                        @Model.TechearMemberShip.SocialMediaAccounts
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.PersonalWebSite">@localizer["PersonalWebSite"]</label>
                    <div>
                        @Model.TechearMemberShip.PersonalWebSite
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="TeachingType">@localizer["TeachingType"]</label>
                    
                    <div>
                        @Model.TeachingType_string
                    </div>
                </div>
                
            </div>
            <div class="tab-pane fade" id="profile">
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.City_String">@localizer["City"]</label>
                    <div>
                        @Model.City_String
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.ExpYears">@localizer["ExpYears"]</label>
                    <div>
                        @Model.TechearMemberShip.ExpYears
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.AccreditedHours">@localizer["AccreditedHours"]</label>
                    <div>
                        @Model.AccreditedHours
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.SchoolLocation">@localizer["SchoolLocation"]</label>
                    <div>
                        @Model.SchoolLocation
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.CertaficateDate">@localizer["CertaficateDate"]</label>
                    <div>
                        @Model.CertaficateDate
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.SchoolName">@localizer["SchoolName"]</label>
                    <div>
                        @Model.SchoolName
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.SchoolLink">@localizer["SchoolLink"]</label>
                    <div>
                        @Model.SchoolLink
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.SchoolSocialMediaAccount">@localizer["SchoolSocialMediaAccount"]</label>
                    <div>
                        @Model.SchoolSocialMediaAccount
                    </div>
                </div>
                <div class="mb-3">
                    <label class="fw-bold" asp-for="@Model.TechearMemberShip.CertficateFiles">@localizer["CertficateFiles"]</label>
                    <div>
                        @{
                            if(!string.IsNullOrEmpty(Model.CertficateFiles))
                            {
                                foreach (var item in Model.CertficateFiles.Split(','))
                                {
                                    <div><a target="_blank" href="~/assets/images/@item" alt="CertficateFiles">@item</a></div>    
                                }
                                
                            }
                        }
                        
                    </div>
                </div>
            </div>
            
            <div class="tab-pane fade" id="fees">
                <div class="mb-3">
                    <h1>@localizer["ExamFees"]</h1>
                    @if(!string.IsNullOrEmpty(Model.ReceiptCopy))
                    {
                        @if(!string.IsNullOrEmpty(Model.ReceiptCopy) && Model.PayExamFees == false)
                        {
                            <div class="alert alert-warning">
                                @localizer["Warning"]
                            </div>
                        }
                        <label>@localizer["TeacherPay"]</label>
                        <div>
                            <img width="600" height="400" src="~/assets/images/@Model.ReceiptCopy"/>
                        </div>
                    }
                    else {
                        <label>@localizer["NotPaidYet"]</label>
                    }
                </div>
                <div class="mb-3">
                    <h1>@localizer["LicenceFees"]</h1>
                    @if(!string.IsNullOrEmpty(Model.ReceiptCopyLic))
                    {
                        @if(!string.IsNullOrEmpty(Model.ReceiptCopyLic) && Model.PayFees == false)
                        {
                            <div class="alert alert-warning">
                                @localizer["WarningApprove"]
                            </div>
                        }
                        <div>@localizer["TeacherPay"]</div>
                       <div>
                        <img width="600" height="400" src="~/assets/images/@Model.ReceiptCopyLic"/>
                       </div>
                    }
                    else {
                        <label>@localizer["NotPaidYet"]</label>
                    }
                </div>
            </div>
            <div class="tab-pane fade" id="status">
                
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>@localizer["InformationCompleted"]</th>
                                <th>@localizer["PayExamFees"]</th>
                                <th>@localizer["TakeTheExam"]</th>
                                <th>@localizer["PassTheExam"]</th>
                                <th>@localizer["PayLicenceFees"]</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    @if(Model.Status == (int)StatusEnum.Pending)
                                    {
                                            <div>
                                                <span class="text-info fw-bold text-capitalize">@localizer["Pending"],</span> 
                                                <div>
                                                    <select name="Info" id="Info">
                                                        <option value="0">@localizer["Select"]</option>
                                                        <option value="1">@localizer["Markasapproved"]</option>
                                                        <option value="2">@localizer["MarkasRejected"]</option>
                                                    </select>
                                                </div>
                                            </div>
                                            
                                            
                                    }
                                    else if(Model.Status == (int)StatusEnum.Approved) {
                                            <div>
                                                <span class="text-success fw-bold text-capitalize">@localizer["Approved"],</span>
                                            </div>
                                    }
                                    else if(Model.Status == (int)StatusEnum.Rejected) {
                                            <div>
                                                <span class="text-danger fw-bold text-capitalize">@localizer["Rejected"],</span>
                                            </div>
                                            <div>
                                                <select name="Info" id="Info">
                                                    <option value="0">@localizer["Select"]</option>
                                                    <option value="1">@localizer["Markasapproved"]</option>
                                                    
                                                </select>
                                            </div>
                                    }
                                </td>
                                <td>
                                    @if(Model.PayExamFees == false)
                                    {
                                            <div>
                                                <span class="text-danger">@localizer["No"]</span>
                                            </div>
                                            <div>
                                                <select name="PayExamFees" id="PayExamFees">
                                                    <option value="0">@localizer["Select"]</option>
                                                    <option value="1">@localizer["Markaspaidexamfees"]</option>
                                                    <option value="2">@localizer["RejectPayment"]</option>
                                                </select>
                                            </div>
                                            <span class="fw-bold text-capitalize">@localizer["Details"]</span> 
                                            <div>
                                                <textarea placeholder='@localizer["ExamDetails"]' name="ExamLocation" id="" cols="30" rows="3"></textarea>
                                            </div>
                                    }
                                    else {
                                            <div>
                                                <span class="text-success">@localizer["Yes"]</span>
                                            </div>
                                    }
                                </td>
                                
                                <td>
                                    @if(Model.TakeExam == false)
                                    {
                                            <div>
                                                <span class="text-danger">@localizer["No"]</span>
                                            </div>
                                                <div>
                                                    <select name="TakeExam" id="TakeExam">
                                                        <option value="0">@localizer["Select"]</option>
                                                        <option value="1">@localizer["Markastaketheexam"]</option>
                                                    </select>
                                                </div>
                                    }
                                    else {
                                            <div>
                                                <span class="text-success">@localizer["Yes"]</span>
                                            </div>
                                    }
                                </td>
                                <td>
                                    @if(Model.PassExam == false)
                                    {
                                            <div>
                                                <span class="text-danger">@localizer["No"]</span>
                                            </div>
                                                <div>
                                                    <select name="PassExam" id="PassExam">
                                                        <option value="0">@localizer["Select"]</option>
                                                        <option value="1">@localizer["Markaspasstheexam"]</option>
                                                        <option value="2">@localizer["NotPassed"]</option>
                                                    </select>
                                                </div>
                                                <span class="fw-bold text-capitalize">@localizer["LicenceFees"]</span>
                                                <div>
                                                    <input placeholder='@localizer["PleaseInsertLicenseFees"]' class="form-control" type="number" name="LicFeesPrice">
                                                </div>
                                    }
                                    else {
                                            <div>
                                                <span class="text-success">@localizer["Yes"]</span>
                                            </div>
                                    }
                                </td>
                                <td>
                                    @if(Model.PayFees == false)
                                    {
                                            <div>
                                                <span class="text-danger">@localizer["No"]</span>
                                            </div>
                                            <div>
                                                <select name="PayLicFees" id="PayLicFees">
                                                    <option value="0">@localizer["Select"]</option>
                                                    <option value="1">@localizer["MarkaspaidLicensefees"]</option>
                                                    <option value="2">@localizer["RejectPayment"]</option>
                                                </select>
                                            </div>
                                    }
                                    else {
                                            <div>
                                                <span class="text-success">@localizer["Yes"]</span>
                                            </div>
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    
                    @if(Model.FinalApprove == false)
                    {
                        <div class="mb-3">
                            <button type="submit" value="Approve" name="Approve" class="btn btn-primary">@localizer["Approve"]</button>
                        </div>
                    }

                    @if(Model.FinalApprove == false && Model.Status != (int)StatusEnum.Rejected)
                    {
                        <div class="mb-3">
                        <div>
                            <label class="fw-bold" for="reason">@localizer["RejectReason"]</label>
                            <div>
                                <textarea name="reason" id="reason" cols="30" rows="3"></textarea>
                            </div>
                        </div>
                        <button type="submit" value="Reject" name="Reject" class="btn btn-danger">@localizer["Reject"]</button>
                    </div>
                    }
                </div>
                
            </div>
            <div>
                @if(@Model.Status == 0)
                {
                    <input type="checkbox"> <span class="fw-bold" >@localizer["Agree"]</span>
                }
            </div>

            
</form>            
        </div>
    </div>

</div>



@section Scripts{
    @{
        <partial name="_ValidationScriptsPartial"/>
    }
}